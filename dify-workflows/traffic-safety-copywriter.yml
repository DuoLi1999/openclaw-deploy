app:
  description: 'äº¤é€šå®‰å…¨å®£ä¼ æ–‡æ¡ˆç«¯åˆ°ç«¯ç”Ÿæˆç®¡çº¿ï¼šé€‰é¢˜åˆ†æâ†’åˆç¨¿ç”Ÿæˆâ†’åAIä¼˜åŒ–â†’æ ¼å¼æ ¡éªŒâ†’æ•æ„Ÿè¯å®¡æ ¸â†’å¹³å°é€‚é…è¾“å‡º'
  icon: "\U0001F693"
  icon_background: '#E4FBCC'
  icon_type: emoji
  mode: workflow
  name: traffic-safety-copywriter
  use_icon_as_answer_icon: false
dependencies: []
kind: app
version: 0.3.1
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: llm
      id: start-to-topic
      source: start_node
      sourceHandle: source
      target: llm_topic
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: topic-to-draft
      source: llm_topic
      sourceHandle: source
      target: llm_draft
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: draft-to-antiai
      source: llm_draft
      sourceHandle: source
      target: llm_anti_ai
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: antiai-to-format
      source: llm_anti_ai
      sourceHandle: source
      target: code_format
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: llm
      id: format-to-sensitive
      source: code_format
      sourceHandle: source
      target: llm_sensitive
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: sensitive-to-audit
      source: llm_sensitive
      sourceHandle: source
      target: code_audit
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: audit-to-ifelse
      source: code_audit
      sourceHandle: source
      target: if_else_pass
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: template-transform
      id: ifelse-to-template-pass
      source: if_else_pass
      sourceHandle: 'true'
      target: template_output
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: ifelse-to-revision
      source: if_else_pass
      sourceHandle: 'false'
      target: llm_revision
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: template-transform
      id: revision-to-template
      source: llm_revision
      sourceHandle: source
      target: template_revised
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: template-transform
        targetType: variable-aggregator
      id: template-pass-to-agg
      source: template_output
      sourceHandle: source
      target: agg_result
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: template-transform
        targetType: variable-aggregator
      id: template-revised-to-agg
      source: template_revised
      sourceHandle: source
      target: agg_result
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: variable-aggregator
        targetType: end
      id: agg-to-end
      source: agg_result
      sourceHandle: source
      target: end_node
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: 'ç”¨æˆ·è¾“å…¥æ–‡æ¡ˆç”Ÿæˆæ‰€éœ€çš„ä¸»é¢˜ã€é£æ ¼ã€å¹³å°ç­‰å‚æ•°'
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: ä¸»é¢˜å…³é”®è¯
          max_length: 200
          options: []
          required: true
          type: text-input
          variable: topic
        - label: è¡¥å……æè¿°
          max_length: 500
          options: []
          required: false
          type: paragraph
          variable: description
        - label: æ–‡æ¡ˆé£æ ¼
          max_length: null
          options:
          - formal
          - friendly
          - humorous
          - warning
          required: true
          type: select
          variable: style
        - label: ç›®æ ‡å¹³å°
          max_length: null
          options:
          - weibo
          - wechat_mp
          - douyin
          - kuaishou
          - toutiao
          required: true
          type: select
          variable: platform
        - label: å‚è€ƒç´ æ
          max_length: 2000
          options: []
          required: false
          type: paragraph
          variable: reference
      height: 90
      id: start_node
      position:
        x: 30
        y: 282
      positionAbsolute:
        x: 30
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'åŸºäºcontent-strategyæ–¹æ³•è®ºï¼Œä¸ºå•ç¯‡å†…å®¹åšå¿«é€Ÿé€‰é¢˜åˆ†æ'
        title: é€‰é¢˜è§’åº¦åˆ†æ
        type: llm
        model:
          provider: deepseek
          name: deepseek-chat
          mode: chat
          completion_params:
            temperature: 0.7
        prompt_template:
        - role: system
          text: |
            ä½ æ˜¯ä¸€åèµ„æ·±çš„äº¤è­¦å®£ä¼ å†…å®¹ç­–ç•¥å¸ˆã€‚ä½ çš„ä»»åŠ¡æ˜¯ä¸ºå•ç¯‡äº¤é€šå®‰å…¨å®£ä¼ å†…å®¹åšå¿«é€Ÿé€‰é¢˜åˆ†æï¼Œä¸éœ€è¦å®Œæ•´çš„ç­–ç•¥æŠ¥å‘Šï¼Œåªéœ€è¦ç²¾å‡†çš„é€‰é¢˜æ–¹å‘ã€‚

            ## åˆ†ææ¡†æ¶

            ### 1. å¯æœç´¢ vs å¯åˆ†äº«åˆ¤æ–­
            - è¯¥ä¸»é¢˜æ›´é€‚åˆåšå¯æœç´¢å†…å®¹ï¼ˆå›ç­”å…·ä½“é—®é¢˜ï¼‰è¿˜æ˜¯å¯åˆ†äº«å†…å®¹ï¼ˆå¼•å‘ä¼ æ’­ï¼‰ï¼Ÿ
            - å¦‚æœæ˜¯å¯æœç´¢ï¼šæ˜ç¡®æœç´¢æ„å›¾å’Œå…³é”®è¯
            - å¦‚æœæ˜¯å¯åˆ†äº«ï¼šæ˜ç¡®ä¼ æ’­é©±åŠ¨åŠ›ï¼ˆæƒ…æ„Ÿå…±é¸£/å®ç”¨ä»·å€¼/æ–°å¥‡è§‚ç‚¹ï¼‰

            ### 2. å—ä¼—é˜¶æ®µæ˜ å°„
            åˆ¤æ–­ç›®æ ‡å—ä¼—å¤„äºå“ªä¸ªé˜¶æ®µï¼š
            - è®¤çŸ¥é˜¶æ®µï¼šä¸äº†è§£è§„åˆ™ â†’ éœ€è¦æ³•è§„ç§‘æ™®
            - è¡Œä¸ºé˜¶æ®µï¼šçŸ¥é“ä½†åšä¸åˆ° â†’ éœ€è¦æ“ä½œæŒ‡å—
            - æƒ…æ„Ÿé˜¶æ®µï¼šéœ€è¦è¢«è§¦åŠ¨ â†’ éœ€è¦è­¦ç¤ºæ¡ˆä¾‹
            - ä¼ æ’­é˜¶æ®µï¼šæ„¿æ„åˆ†äº« â†’ éœ€è¦æé†’ç±»å†…å®¹

            ### 3. Hookç­–ç•¥é€‰æ‹©
            æ ¹æ®å¹³å°å’Œé£æ ¼é€‰æ‹©æœ€ä½³çš„å¼€å¤´ç­–ç•¥ï¼š
            - æ•°æ®å†²å‡»ï¼š"æ¯å¹´XXä¸‡äººå› XXâ€¦"
            - åœºæ™¯ä»£å…¥ï¼š"ä½ æ˜¯å¦ä¹Ÿæ›¾åœ¨XXæ—¶â€¦"
            - åå¸¸è¯†ï¼š"ä½ ä»¥ä¸ºXXï¼Œå…¶å®â€¦"
            - æƒ…æ„Ÿè§¦å‘ï¼š"é‚£å¤©ï¼Œä¸€ä¸ªXXå²çš„å­©å­â€¦"
            - æƒå¨å¼•ç”¨ï¼š"æ ¹æ®æœ€æ–°è§„å®šâ€¦"

            ## è¾“å‡ºæ ¼å¼ï¼ˆç®€æ´æ˜äº†ï¼‰

            **é€‰é¢˜ç±»å‹**ï¼šå¯æœç´¢/å¯åˆ†äº«
            **å—ä¼—é˜¶æ®µ**ï¼šè®¤çŸ¥/è¡Œä¸º/æƒ…æ„Ÿ/ä¼ æ’­
            **æ ¸å¿ƒä¿¡æ¯ç‚¹**ï¼šï¼ˆä¸€å¥è¯æ¦‚æ‹¬æœ¬ç¯‡è¦ä¼ é€’çš„æ ¸å¿ƒä¿¡æ¯ï¼‰
            **Hookç­–ç•¥**ï¼šï¼ˆé€‰ç”¨çš„å¼€å¤´ç­–ç•¥åŠå…·ä½“å»ºè®®ï¼‰
            **æƒ…ç»ªç›®æ ‡**ï¼šï¼ˆå¸Œæœ›è¯»è€…è¯»å®Œåçš„æƒ…ç»ªçŠ¶æ€ï¼šè­¦é†’/å®‰å¿ƒ/æ„ŸåŠ¨/è¡ŒåŠ¨ï¼‰
            **å…³é”®è¯/æ ‡ç­¾å»ºè®®**ï¼šï¼ˆ3-5ä¸ªï¼‰
        - role: user
          text: |
            è¯·ä¸ºä»¥ä¸‹ä¸»é¢˜åšé€‰é¢˜è§’åº¦åˆ†æï¼š

            **ä¸»é¢˜**ï¼š{{#start_node.topic#}}
            **è¡¥å……æè¿°**ï¼š{{#start_node.description#}}
            **ç›®æ ‡é£æ ¼**ï¼š{{#start_node.style#}}
            **ç›®æ ‡å¹³å°**ï¼š{{#start_node.platform#}}
            **å‚è€ƒç´ æ**ï¼š{{#start_node.reference#}}
        vision:
          enabled: false
          configs:
            variable_selector: []
        memory:
          enabled: false
          window:
            enabled: false
            size: 50
        context:
          enabled: false
          variable_selector: []
        structured_output:
          enabled: false
        retry_config:
          enabled: false
          max_retries: 1
          retry_interval: 1000
          exponential_backoff:
            enabled: false
            multiplier: 2
            max_interval: 10000
      height: 90
      id: llm_topic
      position:
        x: 334
        y: 282
      positionAbsolute:
        x: 334
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'èåˆcopywritingã€script-writerã€luka-short-video-scriptæ–¹æ³•è®ºï¼Œæ ¹æ®å¹³å°åŠ¨æ€é€‚é…ç”Ÿæˆåˆç¨¿'
        title: åˆç¨¿ç”Ÿæˆ
        type: llm
        model:
          provider: deepseek
          name: deepseek-chat
          mode: chat
          completion_params:
            temperature: 0.8
        prompt_template:
        - role: system
          text: |
            ä½ æ˜¯ä¸€åèµ„æ·±çš„äº¤è­¦å®£ä¼ éƒ¨é—¨ä¸“ä¸šæ–‡æ¡ˆç¼–è¾‘ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„äº¤é€šå®‰å…¨å®£ä¼ å†…å®¹åˆ›ä½œç»éªŒã€‚

            ## æ ¸å¿ƒå†™ä½œåŸåˆ™ï¼ˆcopywritingæ–¹æ³•è®ºï¼‰

            1. **æ¸…æ™°åº¦ä¼˜å…ˆäºèŠ±å“¨**ï¼šæ¯ä¸€å¥è¯éƒ½è¦è®©è¯»è€…ç«‹åˆ»æ˜ç™½ä½ åœ¨è¯´ä»€ä¹ˆ
            2. **Features â†’ Benefits â†’ Outcomes**ï¼šä¸åªè¯´"æ³•è§„è§„å®šXX"ï¼ˆç‰¹å¾ï¼‰ï¼Œè¦è¯´"è¿™æ„å‘³ç€ä½ XX"ï¼ˆå¥½å¤„ï¼‰ï¼Œæœ€ç»ˆè½åˆ°"æ‰€ä»¥ä½ å’Œå®¶äººèƒ½XX"ï¼ˆç»“æœï¼‰
            3. **Claim Disciplineï¼ˆä¸»å¼ çºªå¾‹ï¼‰**ï¼šæ¯ä¸ªæ–­è¨€å¿…é¡»æœ‰æ”¯æ’‘â€”â€”æ³•è§„æ¡æ–‡ã€æ•°æ®æ¥æºã€çœŸå®æ¡ˆä¾‹ã€‚ä¸ç¼–é€ ã€ä¸å¤¸å¤§
            4. **ä¸€ç¯‡ä¸€æ ¸å¿ƒ**ï¼šæ¯ç¯‡æ–‡æ¡ˆåªä¼ é€’ä¸€ä¸ªæ ¸å¿ƒä¿¡æ¯ï¼Œä¸è´ªå¤š

            ## é£æ ¼å®šä¹‰

            - **formal**ï¼ˆä¸¥è‚ƒæ­£å¼ï¼‰ï¼šç”¨è¯­è§„èŒƒä¸¥è°¨ï¼Œé€‚åˆå®˜æ–¹é€šæŠ¥ã€æ”¿ç­–è§£è¯»ã€‚ä½¿ç”¨ä¹¦é¢è¯­ï¼Œå¼•ç”¨æ³•è§„æ¡æ–‡æ—¶æ³¨æ˜å‡ºå¤„ã€‚è¯­æ°”æƒå¨ã€åº„é‡ã€‚
            - **friendly**ï¼ˆäº²æ°‘æ¸©å’Œï¼‰ï¼šè´´è¿‘ç¾¤ä¼—ç”Ÿæ´»ï¼Œè¯­æ°”äº²åˆ‡å‹å–„ï¼Œå¦‚é‚»é‡Œé—´çš„å–„æ„æé†’ã€‚å¯ä½¿ç”¨å£è¯­åŒ–è¡¨è¾¾ï¼Œä¸¾è´´è¿‘ç”Ÿæ´»çš„ä¾‹å­ã€‚
            - **humorous**ï¼ˆå¹½é»˜é£è¶£ï¼‰ï¼šå–„ç”¨æ¯”å–»ã€åè®½ã€ç½‘ç»œæµè¡Œè¯­ï¼Œä»¥è½»æ¾å¹½é»˜çš„æ–¹å¼ä¼ é€’å®‰å…¨çŸ¥è¯†ã€‚é€‚åˆå¸å¼•å¹´è½»å—ä¼—ï¼Œä½†ä¸å¯æ¶ˆè§£äº¤é€šå®‰å…¨çš„ä¸¥è‚ƒæ€§ã€‚
            - **warning**ï¼ˆè­¦ç¤ºæ•™è‚²ï¼‰ï¼šé€šè¿‡çœŸå®æˆ–å…¸å‹æ¡ˆä¾‹è¿›è¡Œè­¦ç¤ºï¼Œè¯­æ°”ä¸¥å‰ï¼Œå¼ºè°ƒè¿æ³•åæœå’Œå®‰å…¨ä»£ä»·ã€‚é€‚å½“å¼•ç”¨äº‹æ•…æ•°æ®å¢å¼ºè¯´æœåŠ›ã€‚

            ## å¹³å°é€‚é…è§„åˆ™

            **å¦‚æœå¹³å°æ˜¯ weiboï¼ˆå¾®åšï¼‰**ï¼š
            - ä¸¥æ ¼ä¸è¶…è¿‡140å­—
            - ç®€æ´æœ‰åŠ›ï¼Œé‡‘å¥å¼è¡¨è¾¾
            - å¯å¸¦è¯é¢˜æ ‡ç­¾ #äº¤é€šå®‰å…¨# ç­‰
            - é€‚åˆä½¿ç”¨æ•°æ®å†²å‡»ã€åé—®å¥å¼

            **å¦‚æœå¹³å°æ˜¯ wechat_mpï¼ˆå¾®ä¿¡å…¬ä¼—å·ï¼‰**ï¼š
            - 800-2000å­—
            - ç»“æ„æ¸…æ™°ï¼šå¼€å¤´å¼•å…¥â†’ä¸»ä½“åˆ†æ®µï¼ˆè‡³å°‘3ä¸ªå°æ ‡é¢˜ï¼‰â†’ç»“å°¾å·å¬
            - å¯ä½¿ç”¨emojiå¢å¼ºå¯è¯»æ€§
            - æ®µè½ä¹‹é—´æœ‰è¿‡æ¸¡ï¼Œé€»è¾‘è¿è´¯

            **å¦‚æœå¹³å°æ˜¯ douyinï¼ˆæŠ–éŸ³çŸ­è§†é¢‘è„šæœ¬ï¼‰**ï¼š
            - ä¸è¶…è¿‡300å­—å£æ’­æ–‡æ¡ˆ
            - ä½¿ç”¨æ—¶é—´è½´æ ¼å¼ï¼š[00:00-00:03] å¼€åœºHook â†’ [00:03-00:15] æ­£æ–‡ â†’ [00:XX-ç»“å°¾] CTA
            - è¯­è¨€è¦å£è¯­åŒ–ï¼ŒçŸ­å¥ä¸ºä¸»ï¼ˆæ¯å¥ä¸è¶…è¿‡15å­—ï¼‰ï¼Œé•¿çŸ­å¥äº¤æ›¿
            - å‰3ç§’å¿…é¡»æœ‰å¼ºHook
            - é™„å¸¦åˆ†é•œå»ºè®®

            **å¦‚æœå¹³å°æ˜¯ kuaishouï¼ˆå¿«æ‰‹çŸ­è§†é¢‘è„šæœ¬ï¼‰**ï¼š
            - ä¸è¶…è¿‡300å­—å£æ’­æ–‡æ¡ˆ
            - é£æ ¼æ›´æ¥åœ°æ°”ã€è´´è¿‘ç”Ÿæ´»
            - ä½¿ç”¨æ—¶é—´è½´æ ¼å¼ï¼ŒåŒæŠ–éŸ³
            - è¯­è¨€æ›´æœ´å®è‡ªç„¶ï¼Œé¿å…"ç½‘çº¢è…”"
            - é™„å¸¦æ‹æ‘„å»ºè®®

            **å¦‚æœå¹³å°æ˜¯ toutiaoï¼ˆå¤´æ¡å·ï¼‰**ï¼š
            - 500-1500å­—
            - æ ‡é¢˜è¦ä¿¡æ¯é‡å¤§ä½†ä¸æ ‡é¢˜å…š
            - æ­£æ–‡æ®µè½åˆ†æ˜ï¼Œä¿¡æ¯å¯†åº¦é«˜
            - é€‚åˆæ·±åº¦è§£è¯»ã€å¤šè§’åº¦åˆ†æ

            ## è¾“å‡ºè¦æ±‚

            1. ä¸¥æ ¼éµå®ˆç›®æ ‡å¹³å°çš„å­—æ•°é™åˆ¶å’Œæ ¼å¼è¦æ±‚
            2. å¦‚æ¶‰åŠäº¤é€šæ³•è§„ï¼Œå‡†ç¡®å¼•ç”¨æ¡æ–‡ç¼–å·
            3. ä¸ç¼–é€ è™šå‡æ•°æ®æˆ–æ¡ˆä¾‹
            4. å†…å®¹ç§¯æå‘ä¸Šï¼Œç¬¦åˆæ”¿åŠ¡å®£ä¼ å£å¾„
            5. ç›´æ¥è¾“å‡ºæ–‡æ¡ˆæ­£æ–‡ï¼Œä¸è¦è¾“å‡º"ä»¥ä¸‹æ˜¯æ–‡æ¡ˆ"ä¹‹ç±»çš„å‰å¯¼è¯­
        - role: user
          text: |
            è¯·åŸºäºä»¥ä¸‹é€‰é¢˜åˆ†æç»“æœï¼Œç”Ÿæˆäº¤é€šå®‰å…¨å®£ä¼ æ–‡æ¡ˆåˆç¨¿ï¼š

            **ä¸»é¢˜**ï¼š{{#start_node.topic#}}
            **è¡¥å……æè¿°**ï¼š{{#start_node.description#}}
            **æ–‡æ¡ˆé£æ ¼**ï¼š{{#start_node.style#}}
            **ç›®æ ‡å¹³å°**ï¼š{{#start_node.platform#}}
            **å‚è€ƒç´ æ**ï¼š{{#start_node.reference#}}

            **é€‰é¢˜åˆ†æ**ï¼š
            {{#llm_topic.text#}}
        vision:
          enabled: false
          configs:
            variable_selector: []
        memory:
          enabled: false
          window:
            enabled: false
            size: 50
        context:
          enabled: false
          variable_selector: []
        structured_output:
          enabled: false
        retry_config:
          enabled: false
          max_retries: 1
          retry_interval: 1000
          exponential_backoff:
            enabled: false
            multiplier: 2
            max_interval: 10000
      height: 90
      id: llm_draft
      position:
        x: 638
        y: 282
      positionAbsolute:
        x: 638
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'åŸºäºshorts-script-personalityæ–¹æ³•è®ºï¼Œå¯¹åˆç¨¿åšå»AIå‘³å¤„ç†ï¼Œä¿æŒä¿¡æ¯å®Œæ•´æ€§'
        title: åAIä¼˜åŒ–
        type: llm
        model:
          provider: deepseek
          name: deepseek-chat
          mode: chat
          completion_params:
            temperature: 0.5
        prompt_template:
        - role: system
          text: |
            ä½ æ˜¯ä¸€åæ–‡æ¡ˆæ¶¦è‰²ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯å¯¹AIç”Ÿæˆçš„äº¤é€šå®‰å…¨å®£ä¼ æ–‡æ¡ˆè¿›è¡Œ"å»AIå‘³"å¤„ç†ï¼Œè®©æ–‡æ¡ˆè¯»èµ·æ¥åƒæ˜¯æœ‰ç»éªŒçš„äººç±»ç¼–è¾‘å†™çš„ã€‚

            ## 7å¤§ç¦æ­¢é¡¹ï¼ˆå¿…é¡»æ¶ˆé™¤ï¼‰

            1. **ä¸‰è¯é‡å¤æ¨¡å¼**ï¼šç¦æ­¢å‡ºç°"XXã€XXã€XX"è¿™æ ·çš„ä¸‰è”æ’æ¯”ï¼Œå¦‚"å®‰å…¨ã€æ–‡æ˜ã€æœ‰åº"ã€‚æ”¹ç”¨è‡ªç„¶å™è¿°ã€‚
            2. **é—®ç­”åˆ—è¡¨æ¨¡å¼**ï¼šç¦æ­¢"ä½ çŸ¥é“XXå—ï¼Ÿå…¶å®XXã€‚"è¿™æ ·çš„è‡ªé—®è‡ªç­”æ ¼å¼ã€‚ç›´æ¥é™ˆè¿°ã€‚
            3. **å¥—è·¯å¼€åœº/ç»“å°¾**ï¼š
               - ç¦æ­¢å¼€å¤´ï¼š"åœ¨è¿™ä¸ªXXçš„æ—¶ä»£â€¦"ã€"éšç€XXçš„å‘å±•â€¦"ã€"ä½ æ˜¯å¦æ›¾ç»â€¦"
               - ç¦æ­¢ç»“å°¾ï¼š"è®©æˆ‘ä»¬ä¸€èµ·XXå§ï¼"ã€"å®‰å…¨å‡ºè¡Œï¼Œä»æˆ‘åšèµ·"ç­‰å¥—è¯
            4. **å‡è®¾åœºæ™¯**ï¼šç¦æ­¢"æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ â€¦"è¿™æ ·çš„å‡è®¾å¥å¼ã€‚ç”¨çœŸå®æ¡ˆä¾‹æˆ–ç›´æ¥æè¿°ã€‚
            5. **æœºæ¢°åˆ—è¡¨è¿‡æ¸¡**ï¼šç¦æ­¢"é¦–å…ˆâ€¦å…¶æ¬¡â€¦å†æ¬¡â€¦æœ€åâ€¦"ã€‚ç”¨è‡ªç„¶æ®µè½è½¬æŠ˜ã€‚
            6. **å¤¸å¼ ç”¨è¯**ï¼šç¦æ­¢"è‡³å…³é‡è¦"ã€"ä¸å¯æˆ–ç¼º"ã€"ä¸¾è¶³è½»é‡"ç­‰AIå¸¸ç”¨çš„å¤¸å¼ å½¢å®¹è¯ã€‚ç”¨å…·ä½“æè¿°æ›¿ä»£ã€‚
            7. **å¥—è¯çŸ­è¯­**ï¼šç¦æ­¢"æ€»è€Œè¨€ä¹‹"ã€"ç»¼ä¸Šæ‰€è¿°"ã€"å€¼å¾—æ³¨æ„çš„æ˜¯"ã€"æ¯‹åº¸ç½®ç–‘"ç­‰ã€‚

            ## ä¼˜åŒ–æ–¹å‘

            - **å¥å¼æµåŠ¨**ï¼šçŸ­å¥é•¿å¥äº¤æ›¿ï¼Œé¿å…åŒ€é€ŸèŠ‚å¥ã€‚å¶å°”ç”¨ä¸€ä¸ªåªæœ‰å‡ ä¸ªå­—çš„çŸ­å¥æ‰“æ–­é•¿æ®µ
            - **å£è¯­æ„Ÿ**ï¼šåœ¨éformalé£æ ¼ä¸­ï¼Œé€‚å½“åŠ å…¥å£è¯­è¡¨è¾¾ï¼Œè®©æ–‡å­—æœ‰å‘¼å¸æ„Ÿ
            - **å…·ä½“åŒ–**ï¼šæŠŠæŠ½è±¡è¡¨è¿°æ›¿æ¢ä¸ºå…·ä½“çš„æ•°å­—ã€åœºæ™¯ã€äººç‰©
            - **ä¿¡æ¯ä¿å…¨**ï¼šæ‰€æœ‰æ³•è§„å¼•ç”¨ã€æ•°æ®ã€æ ¸å¿ƒä¿¡æ¯ç‚¹å¿…é¡»ä¿ç•™ï¼Œåªæ”¹è¡¨è¾¾æ–¹å¼ä¸æ”¹ä¿¡æ¯å†…å®¹

            ## å¤„ç†åŸåˆ™

            - åªæ”¹è¡¨è¾¾æ–¹å¼ï¼Œä¸æ”¹å†…å®¹å’Œä¿¡æ¯
            - ä¿ç•™æ‰€æœ‰æ³•è§„å¼•ç”¨å’Œæ•°æ®
            - **ä¸¥æ ¼ä¿æŒåŸæ–‡çš„å­—æ•°èŒƒå›´**ï¼Œç»ä¸èƒ½æ˜¾è‘—å¢åŠ å­—æ•°ã€‚å¾®åšæ–‡æ¡ˆå¿…é¡»â‰¤140å­—ï¼ŒçŸ­è§†é¢‘è„šæœ¬å¿…é¡»â‰¤300å­—
            - ä¿æŒåŸæ–‡çš„ç»“æ„ï¼ˆå°æ ‡é¢˜ã€æ—¶é—´è½´ç­‰ï¼‰
            - å¦‚æœåŸæ–‡æœ‰[00:00]æ—¶é—´è½´æ ¼å¼ï¼Œå¿…é¡»ä¿ç•™
            - ç›´æ¥è¾“å‡ºä¼˜åŒ–åçš„æ–‡æ¡ˆï¼Œä¸è¦è¯´æ˜ä¿®æ”¹äº†å“ªé‡Œ
        - role: user
          text: |
            è¯·å¯¹ä»¥ä¸‹äº¤é€šå®‰å…¨å®£ä¼ æ–‡æ¡ˆè¿›è¡ŒåAIä¼˜åŒ–å¤„ç†ã€‚æ–‡æ¡ˆé£æ ¼ä¸º{{#start_node.style#}}ï¼Œç›®æ ‡å¹³å°ä¸º{{#start_node.platform#}}ã€‚

            ---
            {{#llm_draft.text#}}
            ---
        vision:
          enabled: false
          configs:
            variable_selector: []
        memory:
          enabled: false
          window:
            enabled: false
            size: 50
        context:
          enabled: false
          variable_selector: []
        structured_output:
          enabled: false
        retry_config:
          enabled: false
          max_retries: 1
          retry_interval: 1000
          exponential_backoff:
            enabled: false
            multiplier: 2
            max_interval: 10000
      height: 90
      id: llm_anti_ai
      position:
        x: 942
        y: 282
      positionAbsolute:
        x: 942
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'æ ¹æ®å¹³å°è§„èŒƒæ ¡éªŒå­—æ•°ã€ç»“æ„ç­‰ç¡¬æ€§æŒ‡æ ‡'
        title: æ ¼å¼æ ¡éªŒ
        type: code
        code_language: python3
        code: |
          def main(content: str, platform: str) -> dict:
              import re

              text = re.sub(r'[\n\r\t]', '', content)
              text_clean = re.sub(r'[#*_\[\]()ï¼ˆï¼‰ã€ã€‘ã€Œã€ã€ã€\-â€”â€¦]', '', text)
              char_count = len(text_clean)

              issues = []
              is_format_ok = "true"

              if platform == "weibo":
                  if char_count > 140:
                      issues.append("å¾®åšæ–‡æ¡ˆè¶…å‡ºå­—æ•°é™åˆ¶ï¼šå½“å‰" + str(char_count) + "å­—ï¼Œä¸Šé™140å­—")
                      is_format_ok = "false"
              elif platform == "wechat_mp":
                  if char_count < 800:
                      issues.append("å¾®ä¿¡å…¬ä¼—å·æ–‡æ¡ˆå­—æ•°ä¸è¶³ï¼šå½“å‰" + str(char_count) + "å­—ï¼Œå»ºè®®800-2000å­—")
                      is_format_ok = "false"
                  elif char_count > 2000:
                      issues.append("å¾®ä¿¡å…¬ä¼—å·æ–‡æ¡ˆè¶…å‡ºå»ºè®®å­—æ•°ï¼šå½“å‰" + str(char_count) + "å­—ï¼Œå»ºè®®800-2000å­—")
                  subtitle_patterns = re.findall(r'(?:^|\n)\s*(?:#{1,3}\s|[ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+[ã€.ï¼]|[0-9]+[ã€.ï¼])', content)
                  if len(subtitle_patterns) < 3:
                      issues.append("å¾®ä¿¡å…¬ä¼—å·æ–‡æ¡ˆå°æ ‡é¢˜ä¸è¶³ï¼šå½“å‰" + str(len(subtitle_patterns)) + "ä¸ªï¼Œå»ºè®®è‡³å°‘3ä¸ª")
                      is_format_ok = "false"
              elif platform in ("douyin", "kuaishou"):
                  oral_text = content
                  oral_text = re.sub(r'[ï¼ˆ(][^ï¼‰)]*(?:ç”»é¢|é•œå¤´|åˆ‡æ¢|å®šç‰ˆ|å±å¹•|å­—å¹•)[^ï¼‰)]*[ï¼‰)]', '', oral_text)
                  oral_text = re.sub(r'\*\*[^*]*(?:ç”»é¢|é•œå¤´|åˆ‡æ¢|å®šç‰ˆ)[^*]*\*\*', '', oral_text)
                  oral_text = re.sub(r'\*\*å£æ’­[ï¼š:]*\*\*', '', oral_text)
                  oral_text = re.sub(r'\*\*\[[\d:â€”\-]+\][^*]*\*\*', '', oral_text)
                  oral_text = re.sub(r'\[[\d:â€”\-]+\]\s*', '', oral_text)
                  oral_text = re.sub(r'[#*_\[\]()ï¼ˆï¼‰ã€ã€‘ã€Œã€ã€ã€\-â€”â€¦\n\r\t]', '', oral_text)
                  oral_text = re.sub(r'\s+', '', oral_text)
                  oral_count = len(oral_text)
                  char_count = oral_count
                  if oral_count > 300:
                      issues.append("çŸ­è§†é¢‘å£æ’­æ–‡å­—è¶…å‡ºé™åˆ¶ï¼šå½“å‰çº¦" + str(oral_count) + "å­—ï¼Œä¸Šé™300å­—ï¼ˆå·²æ’é™¤åˆ†é•œæè¿°ï¼‰")
                      is_format_ok = "false"
                  if not re.search(r'\[\d{2}:\d{2}', content):
                      issues.append("çŸ­è§†é¢‘è„šæœ¬ç¼ºå°‘æ—¶é—´è½´æ ‡è®°ï¼Œå»ºè®®æ·»åŠ [00:00]æ ¼å¼æ ‡è®°")
              elif platform == "toutiao":
                  if char_count < 500:
                      issues.append("å¤´æ¡å·æ–‡æ¡ˆå­—æ•°ä¸è¶³ï¼šå½“å‰" + str(char_count) + "å­—ï¼Œå»ºè®®500-1500å­—")
                      is_format_ok = "false"
                  elif char_count > 1500:
                      issues.append("å¤´æ¡å·æ–‡æ¡ˆè¶…å‡ºå»ºè®®å­—æ•°ï¼šå½“å‰" + str(char_count) + "å­—ï¼Œå»ºè®®500-1500å­—")

              issues_text = "ï¼›".join(issues) if issues else "æ ¼å¼æ ¡éªŒé€šè¿‡"

              return {
                  "is_format_ok": is_format_ok,
                  "issues": issues_text,
                  "char_count": char_count
              }
        variables:
        - value_selector:
          - llm_anti_ai
          - text
          variable: content
        - value_selector:
          - start_node
          - platform
          variable: platform
        outputs:
          is_format_ok:
            type: string
            children: null
          issues:
            type: string
            children: null
          char_count:
            type: number
            children: null
      height: 90
      id: code_format
      position:
        x: 1246
        y: 282
      positionAbsolute:
        x: 1246
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: '5ç»´åº¦æ•æ„Ÿè¯æ£€æµ‹ï¼Œè¾“å‡ºç»“æ„åŒ–JSONå®¡æ ¸æŠ¥å‘Š'
        title: æ•æ„Ÿè¯å®¡æ ¸
        type: llm
        model:
          provider: deepseek
          name: deepseek-chat
          mode: chat
          completion_params:
            temperature: 0.05
        prompt_template:
        - role: system
          text: |
            ä½ æ˜¯ä¸€åæ”¿åŠ¡å†…å®¹å®¡æ ¸ä¸“å®¶ï¼Œè´Ÿè´£æ£€æµ‹äº¤è­¦å®£ä¼ æ–‡æ¡ˆä¸­çš„æ•æ„Ÿå†…å®¹ã€‚

            ## æ£€æµ‹ç»´åº¦

            1. **æ”¿æ²»æ•æ„Ÿ**ï¼šæ¶‰åŠæ”¿æ²»äººç‰©ã€æ”¿æ²»äº‹ä»¶ã€æ„è¯†å½¢æ€ç­‰ä¸å½“è¡¨è¿°
            2. **æ³•å¾‹é£é™©**ï¼šæœªå®¡å…ˆåˆ¤çš„è¡¨è¿°ã€ä¾µçŠ¯éšç§ã€æ­§è§†æ€§ç”¨è¯­
            3. **äº‹å®å‡†ç¡®**ï¼šé”™è¯¯çš„æ³•è§„å¼•ç”¨ã€ä¸å®æ•°æ®ã€å¤¸å¤§å…¶è¯
            4. **ç”¨è¯­ä¸å½“**ï¼šä¸ç¬¦åˆæ”¿åŠ¡å®£ä¼ å£å¾„ã€è¿‡äºå£è¯­åŒ–æˆ–ç²—ä¿—ã€å¯èƒ½å¼•å‘äº‰è®®çš„æªè¾
            5. **æš´åŠ›è¡€è…¥**ï¼šè¿‡åº¦æè¿°äº‹æ•…ä¼¤äº¡ç»†èŠ‚ã€å¯èƒ½å¼•å‘ä¸é€‚çš„ç”»é¢æå†™

            é¢å¤–æ£€æŸ¥äº¤é€šä¸“ä¸šæœ¯è¯­å‡†ç¡®æ€§ï¼šæ³•è§„åç§°ã€å¤„ç½šæ ‡å‡†ã€äº¤é€šæœ¯è¯­è§„èŒƒæ€§ã€æ‰§æ³•ç¨‹åºå‡†ç¡®æ€§ã€‚

            ## é‡è¦ï¼šä½ çš„èŒè´£è¾¹ç•Œ

            ä½ åªè´Ÿè´£æ£€æµ‹å†…å®¹å±‚é¢çš„æ•æ„Ÿé—®é¢˜ã€‚ä»¥ä¸‹é—®é¢˜ä¸å±äºä½ çš„èŒè´£ï¼Œè¯·å‹¿åœ¨æ£€æµ‹ç»“æœä¸­æåŠï¼š
            - å­—æ•°æ˜¯å¦è¶…å‡ºå¹³å°é™åˆ¶
            - æ–‡æ¡ˆç»“æ„æ˜¯å¦ç¬¦åˆå¹³å°è§„èŒƒ
            - æ—¶é—´è½´æ ¼å¼æ˜¯å¦æ­£ç¡®
            - å°æ ‡é¢˜æ•°é‡æ˜¯å¦è¶³å¤Ÿ
            è¿™äº›æ ¼å¼é—®é¢˜ç”±ä¸“é—¨çš„æ ¼å¼æ ¡éªŒæ¨¡å—å¤„ç†ã€‚

            ## è¾“å‡ºæ ¼å¼

            ä¸¥æ ¼æŒ‰ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºï¼ˆåªè¾“å‡ºçº¯JSONï¼Œä¸è¦é¢å¤–æ–‡å­—ï¼‰ï¼š

            ```json
            {
              "has_sensitive": true,
              "summary": "æ•´ä½“è¯„ä¼°ï¼ˆä¸€å¥è¯ï¼‰",
              "items": [
                {
                  "word": "æ•æ„Ÿè¯æˆ–æ•æ„Ÿç‰‡æ®µ",
                  "position": "æ‰€åœ¨ä¸Šä¸‹æ–‡",
                  "level": "error/warning/info",
                  "category": "æ£€æµ‹ç»´åº¦",
                  "reason": "åˆ¤å®šåŸå› ",
                  "suggestion": "å»ºè®®æ›¿æ¢å†…å®¹"
                }
              ]
            }
            ```

            æ— é—®é¢˜æ—¶è¿”å›ï¼š
            ```json
            {"has_sensitive": false, "summary": "æ–‡æ¡ˆå†…å®¹åˆè§„", "items": []}
            ```
        - role: user
          text: |
            è¯·å®¡æ ¸ä»¥ä¸‹äº¤è­¦å®£ä¼ æ–‡æ¡ˆï¼š

            ---
            {{#llm_anti_ai.text#}}
            ---
        vision:
          enabled: false
          configs:
            variable_selector: []
        memory:
          enabled: false
          window:
            enabled: false
            size: 50
        context:
          enabled: false
          variable_selector: []
        structured_output:
          enabled: false
        retry_config:
          enabled: false
          max_retries: 1
          retry_interval: 1000
          exponential_backoff:
            enabled: false
            multiplier: 2
            max_interval: 10000
      height: 90
      id: llm_sensitive
      position:
        x: 1550
        y: 282
      positionAbsolute:
        x: 1550
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'è§£æå®¡æ ¸JSONï¼Œåˆ¤æ–­æ˜¯å¦é€šè¿‡ï¼ˆerror=0ä¸”warning<=2ï¼‰'
        title: å®¡æ ¸åˆ¤å®š
        type: code
        code_language: python3
        code: |
          def main(audit_result: str, is_format_ok: str, format_issues: str) -> dict:
              import json

              format_passed = is_format_ok == "true"

              try:
                  text = audit_result.strip()
                  if '```json' in text:
                      text = text.split('```json')[1].split('```')[0].strip()
                  elif '```' in text:
                      text = text.split('```')[1].split('```')[0].strip()

                  data = json.loads(text)
                  has_sensitive = data.get("has_sensitive", False)
                  items = data.get("items", [])
                  error_count = sum(1 for item in items if item.get("level") == "error")
                  warning_count = sum(1 for item in items if item.get("level") == "warning")
                  content_passed = (not has_sensitive) or (error_count == 0 and warning_count <= 2)
              except Exception:
                  content_passed = True
                  error_count = 0
                  warning_count = 0

              is_passed = "true" if (format_passed and content_passed) else "false"
              audit_status = "passed" if is_passed == "true" else "needs_revision"

              all_issues = []
              if not format_passed:
                  all_issues.append(format_issues)
              if not content_passed:
                  all_issues.append("æ•æ„Ÿè¯å®¡æ ¸æœªé€šè¿‡(error:" + str(error_count) + ", warning:" + str(warning_count) + ")")
              combined_issues = "ï¼›".join(all_issues) if all_issues else "å…¨éƒ¨æ£€æŸ¥é€šè¿‡"

              return {
                  "is_passed": is_passed,
                  "audit_status": audit_status,
                  "error_count": error_count,
                  "warning_count": warning_count,
                  "combined_issues": combined_issues
              }
        variables:
        - value_selector:
          - llm_sensitive
          - text
          variable: audit_result
        - value_selector:
          - code_format
          - is_format_ok
          variable: is_format_ok
        - value_selector:
          - code_format
          - issues
          variable: format_issues
        outputs:
          is_passed:
            type: string
            children: null
          audit_status:
            type: string
            children: null
          error_count:
            type: number
            children: null
          warning_count:
            type: number
            children: null
          combined_issues:
            type: string
            children: null
      height: 90
      id: code_audit
      position:
        x: 1854
        y: 282
      positionAbsolute:
        x: 1854
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'æ ¹æ®å®¡æ ¸ç»“æœå†³å®šç›´æ¥è¾“å‡ºæˆ–è¿›å…¥ä¿®è®¢æµç¨‹'
        title: å®¡æ ¸é€šè¿‡åˆ¤æ–­
        type: if-else
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: cond-is-passed
            value: 'true'
            varType: string
            variable_selector:
            - code_audit
            - is_passed
          id: 'true'
          logical_operator: and
      height: 90
      id: if_else_pass
      position:
        x: 2158
        y: 282
      positionAbsolute:
        x: 2158
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'å®¡æ ¸é€šè¿‡ï¼ŒæŒ‰å¹³å°è§„èŒƒæ ¼å¼åŒ–æœ€ç»ˆè¾“å‡º'
        title: å¹³å°æ ¼å¼åŒ–è¾“å‡º
        type: template-transform
        template: |
          {{ content }}

          ---
          ğŸ“Š æ–‡æ¡ˆä¿¡æ¯
          - å¹³å°ï¼š{% if platform == 'weibo' %}å¾®åš{% elif platform == 'wechat_mp' %}å¾®ä¿¡å…¬ä¼—å·{% elif platform == 'douyin' %}æŠ–éŸ³{% elif platform == 'kuaishou' %}å¿«æ‰‹{% elif platform == 'toutiao' %}å¤´æ¡å·{% else %}{{ platform }}{% endif %}
          - å­—æ•°ï¼šçº¦{{ char_count }}å­—
          - å®¡æ ¸çŠ¶æ€ï¼šâœ… é€šè¿‡

          ğŸ“… å‘å¸ƒå»ºè®®
          {% if platform == 'weibo' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼šå·¥ä½œæ—¥ 12:00-13:00 æˆ– 20:00-22:00
          - å»ºè®®å¸¦è¯é¢˜æ ‡ç­¾ï¼š#äº¤é€šå®‰å…¨# #{{ topic }}#
          - å¯é…åˆ1-2å¼ ä¿¡æ¯å›¾å¢å¼ºä¼ æ’­{% elif platform == 'wechat_mp' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼šå·¥ä½œæ—¥ 7:00-9:00 æˆ– 20:00-22:00
          - å»ºè®®é…ç½®å°é¢å›¾å’Œæ–‡ç« æ‘˜è¦
          - æ–‡æœ«å»ºè®®æ·»åŠ å¼•å¯¼å…³æ³¨/è½¬å‘çš„è¡ŒåŠ¨å·å¬{% elif platform == 'douyin' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼š12:00-14:00 æˆ– 18:00-22:00
          - å»ºè®®BGMï¼šæ ¹æ®é£æ ¼é€‰æ‹©è½»å¿«æˆ–ç´§å¼ ç±»é…ä¹
          - å°é¢çªå‡ºä¸»é¢˜æ–‡å­—ï¼Œå»ºè®®æ·»åŠ å­—å¹•{% elif platform == 'kuaishou' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼š12:00-14:00 æˆ– 18:00-21:00
          - é£æ ¼åç”Ÿæ´»åŒ–æ¥åœ°æ°”
          - å»ºè®®BGMï¼šæµè¡Œæˆ–æ°‘é—´ç±»é…ä¹{% elif platform == 'toutiao' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼š7:00-9:00 æˆ– 18:00-20:00
          - æ ‡é¢˜è¦ä¿¡æ¯é‡å¤§ï¼Œé¿å…æ ‡é¢˜å…š
          - å»ºè®®é…3-5å¼ ç›¸å…³å›¾ç‰‡{% endif %}
        variables:
        - value_selector:
          - llm_anti_ai
          - text
          variable: content
        - value_selector:
          - start_node
          - platform
          variable: platform
        - value_selector:
          - start_node
          - topic
          variable: topic
        - value_selector:
          - code_format
          - char_count
          variable: char_count
      height: 90
      id: template_output
      position:
        x: 2462
        y: 132
      positionAbsolute:
        x: 2462
        y: 132
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'å®¡æ ¸ä¸é€šè¿‡æ—¶ï¼Œæ ¹æ®å®¡æ ¸æŠ¥å‘Šä¿®æ”¹é—®é¢˜éƒ¨åˆ†ï¼Œä¿æŒå…¶ä»–å†…å®¹ä¸å˜'
        title: å®¡æ ¸ä¿®è®¢
        type: llm
        model:
          provider: deepseek
          name: deepseek-chat
          mode: chat
          completion_params:
            temperature: 0.5
        prompt_template:
        - role: system
          text: |
            ä½ æ˜¯ä¸€åæ–‡æ¡ˆä¿®è®¢ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®æ•æ„Ÿè¯å®¡æ ¸æŠ¥å‘Šå’Œæ ¼å¼æ ¡éªŒç»“æœï¼Œä¿®æ”¹æ–‡æ¡ˆä¸­çš„é—®é¢˜éƒ¨åˆ†ã€‚

            ## æœ€é«˜ä¼˜å…ˆçº§ï¼šå­—æ•°åˆè§„

            å¦‚æœæ ¼å¼æ ¡éªŒæŠ¥å‘ŠæŒ‡å‡ºå­—æ•°è¶…æ ‡ï¼Œä½ å¿…é¡»å°†æ–‡æ¡ˆå‹ç¼©åˆ°é™åˆ¶èŒƒå›´å†…ã€‚è¿™æ˜¯æœ€é«˜ä¼˜å…ˆçº§ï¼Œé«˜äº"æœ€å°æ”¹åŠ¨"åŸåˆ™ã€‚
            - å¾®åšè¶…æ ‡æ—¶ï¼šå®Œå…¨é‡å†™ï¼Œåªä¿ç•™ä¸€ä¸ªæ ¸å¿ƒè§‚ç‚¹ï¼Œç›®æ ‡100-130å­—ï¼ˆå«æ ‡ç‚¹æ ‡ç­¾ï¼‰
            - çŸ­è§†é¢‘è¶…æ ‡æ—¶ï¼šç²¾ç®€å£æ’­å†…å®¹åˆ°250å­—ä»¥å†…ï¼Œåˆ†é•œæè¿°å¯ä»¥ä¿ç•™
            - å‹ç¼©ç­–ç•¥ï¼šåˆ é™¤é‡å¤è¡¨è¿° â†’ åˆ é™¤ä¿®é¥°è¯­ â†’ åˆå¹¶ç›¸ä¼¼æ®µè½ â†’ ç²¾ç®€æ¬¡è¦ä¿¡æ¯ã€‚æ ¸å¿ƒä¿¡æ¯å’Œæ³•è§„å¼•ç”¨æœ€ååˆ 

            ## ä¿®è®¢åŸåˆ™

            1. **å­—æ•°åˆè§„ä¼˜å…ˆ**ï¼šå¦‚æœå­—æ•°è¶…æ ‡ï¼Œå¿…é¡»å¤§å¹…ç²¾ç®€ï¼Œä¸è¦è¯•å›¾ä¿ç•™æ‰€æœ‰å†…å®¹
            2. **æœ€å°æ”¹åŠ¨**ï¼šåœ¨å­—æ•°åˆè§„çš„å‰æä¸‹ï¼Œåªä¿®æ”¹å®¡æ ¸æŠ¥å‘ŠæŒ‡å‡ºçš„é—®é¢˜éƒ¨åˆ†
            3. **ä¿æŒé£æ ¼**ï¼šä¿®æ”¹åçš„å†…å®¹è¦ä¸åŸæ–‡é£æ ¼ä¸€è‡´
            4. **ä¿ç•™ç»“æ„**ï¼šä¸æ”¹å˜æ–‡æ¡ˆçš„æ•´ä½“ç»“æ„ï¼ˆå°æ ‡é¢˜ã€æ—¶é—´è½´ç­‰ï¼‰
            5. **ä¿¡æ¯ä¸ä¸¢**ï¼šä¿®æ”¹æ•æ„Ÿè¡¨è¿°æ—¶ï¼Œå°½é‡ä¿ç•™ä¿¡æ¯ä¼ è¾¾æ„å›¾
            6. **ç›´æ¥è¾“å‡º**ï¼šç›´æ¥è¾“å‡ºä¿®è®¢åçš„å®Œæ•´æ–‡æ¡ˆï¼Œä¸è¦è¯´æ˜ä¿®æ”¹äº†å“ªé‡Œ

            ## å¹³å°å­—æ•°ç¡¬æ€§è¦æ±‚ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰

            - weiboï¼ˆå¾®åšï¼‰ï¼šä¿®è®¢åæ€»å­—æ•°ä¸¥æ ¼ä¸è¶…è¿‡140å­—ï¼Œå«æ ‡ç‚¹å’Œæ ‡ç­¾ã€‚ç›®æ ‡100-130å­—
            - wechat_mpï¼ˆå¾®ä¿¡å…¬ä¼—å·ï¼‰ï¼š800-2000å­—ï¼Œè‡³å°‘3ä¸ªå°æ ‡é¢˜
            - douyinï¼ˆæŠ–éŸ³ï¼‰ï¼šå£æ’­æ–‡å­—ä¸è¶…è¿‡300å­—ï¼Œå¿…é¡»åŒ…å«[00:00]æ ¼å¼æ—¶é—´è½´æ ‡è®°
            - kuaishouï¼ˆå¿«æ‰‹ï¼‰ï¼šå£æ’­æ–‡å­—ä¸è¶…è¿‡300å­—ï¼Œå¿…é¡»åŒ…å«[00:00]æ ¼å¼æ—¶é—´è½´æ ‡è®°
            - toutiaoï¼ˆå¤´æ¡å·ï¼‰ï¼š500-1500å­—
        - role: user
          text: |
            è¯·æ ¹æ®å®¡æ ¸æŠ¥å‘Šä¿®æ”¹ä»¥ä¸‹æ–‡æ¡ˆä¸­çš„é—®é¢˜éƒ¨åˆ†ï¼š

            **ç›®æ ‡å¹³å°**ï¼š{{#start_node.platform#}}
            **æ ¼å¼æ ¡éªŒé—®é¢˜**ï¼š{{#code_format.issues#}}

            **åŸå§‹æ–‡æ¡ˆ**ï¼š
            ---
            {{#llm_anti_ai.text#}}
            ---

            **å®¡æ ¸æŠ¥å‘Š**ï¼š
            {{#llm_sensitive.text#}}

            è¯·ç›´æ¥è¾“å‡ºä¿®è®¢åçš„å®Œæ•´æ–‡æ¡ˆï¼Œç¡®ä¿ç¬¦åˆç›®æ ‡å¹³å°çš„å­—æ•°å’Œæ ¼å¼è¦æ±‚ã€‚
        vision:
          enabled: false
          configs:
            variable_selector: []
        memory:
          enabled: false
          window:
            enabled: false
            size: 50
        context:
          enabled: false
          variable_selector: []
        structured_output:
          enabled: false
        retry_config:
          enabled: false
          max_retries: 1
          retry_interval: 1000
          exponential_backoff:
            enabled: false
            multiplier: 2
            max_interval: 10000
      height: 90
      id: llm_revision
      position:
        x: 2462
        y: 432
      positionAbsolute:
        x: 2462
        y: 432
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'ä¿®è®¢åæŒ‰å¹³å°è§„èŒƒæ ¼å¼åŒ–è¾“å‡º'
        title: ä¿®è®¢åæ ¼å¼åŒ–è¾“å‡º
        type: template-transform
        template: |
          {{ content }}

          ---
          ğŸ“Š æ–‡æ¡ˆä¿¡æ¯
          - å¹³å°ï¼š{% if platform == 'weibo' %}å¾®åš{% elif platform == 'wechat_mp' %}å¾®ä¿¡å…¬ä¼—å·{% elif platform == 'douyin' %}æŠ–éŸ³{% elif platform == 'kuaishou' %}å¿«æ‰‹{% elif platform == 'toutiao' %}å¤´æ¡å·{% else %}{{ platform }}{% endif %}
          - å­—æ•°ï¼šçº¦{{ char_count }}å­—
          - å®¡æ ¸çŠ¶æ€ï¼šâš ï¸ å·²ä¿®è®¢åé€šè¿‡

          ğŸ“… å‘å¸ƒå»ºè®®
          {% if platform == 'weibo' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼šå·¥ä½œæ—¥ 12:00-13:00 æˆ– 20:00-22:00
          - å»ºè®®å¸¦è¯é¢˜æ ‡ç­¾ï¼š#äº¤é€šå®‰å…¨# #{{ topic }}#
          - å¯é…åˆ1-2å¼ ä¿¡æ¯å›¾å¢å¼ºä¼ æ’­{% elif platform == 'wechat_mp' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼šå·¥ä½œæ—¥ 7:00-9:00 æˆ– 20:00-22:00
          - å»ºè®®é…ç½®å°é¢å›¾å’Œæ–‡ç« æ‘˜è¦
          - æ–‡æœ«å»ºè®®æ·»åŠ å¼•å¯¼å…³æ³¨/è½¬å‘çš„è¡ŒåŠ¨å·å¬{% elif platform == 'douyin' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼š12:00-14:00 æˆ– 18:00-22:00
          - å»ºè®®BGMï¼šæ ¹æ®é£æ ¼é€‰æ‹©è½»å¿«æˆ–ç´§å¼ ç±»é…ä¹
          - å°é¢çªå‡ºä¸»é¢˜æ–‡å­—ï¼Œå»ºè®®æ·»åŠ å­—å¹•{% elif platform == 'kuaishou' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼š12:00-14:00 æˆ– 18:00-21:00
          - é£æ ¼åç”Ÿæ´»åŒ–æ¥åœ°æ°”
          - å»ºè®®BGMï¼šæµè¡Œæˆ–æ°‘é—´ç±»é…ä¹{% elif platform == 'toutiao' %}- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼š7:00-9:00 æˆ– 18:00-20:00
          - æ ‡é¢˜è¦ä¿¡æ¯é‡å¤§ï¼Œé¿å…æ ‡é¢˜å…š
          - å»ºè®®é…3-5å¼ ç›¸å…³å›¾ç‰‡{% endif %}
        variables:
        - value_selector:
          - llm_revision
          - text
          variable: content
        - value_selector:
          - start_node
          - platform
          variable: platform
        - value_selector:
          - start_node
          - topic
          variable: topic
        - value_selector:
          - code_format
          - char_count
          variable: char_count
      height: 90
      id: template_revised
      position:
        x: 2766
        y: 432
      positionAbsolute:
        x: 2766
        y: 432
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: 'åˆå¹¶é€šè¿‡/ä¿®è®¢ä¸¤ä¸ªåˆ†æ”¯çš„æ ¼å¼åŒ–è¾“å‡ºç»“æœ'
        title: åˆå¹¶ç»“æœ
        type: variable-aggregator
        variables:
        - - template_output
          - output
        - - template_revised
          - output
        output_type: string
        advanced_settings: null
      height: 90
      id: agg_result
      position:
        x: 3070
        y: 282
      positionAbsolute:
        x: 3070
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - agg_result
          - output
          value_type: string
          variable: result
        - value_selector:
          - code_audit
          - audit_status
          value_type: string
          variable: audit_status
        - value_selector:
          - llm_sensitive
          - text
          value_type: string
          variable: audit_report
        selected: false
        title: è¾“å‡º
        type: end
      height: 90
      id: end_node
      position:
        x: 3374
        y: 282
      positionAbsolute:
        x: 3374
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.5
